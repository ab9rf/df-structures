<data-definition>
    <struct-type type-name='file_compressorst' custom-methods='true'>
        Note: the assign operator is manually implemented

        <bool name='compressed'/>
        <stl-fstream name='f'/>

        <pointer name='in_buffer' type-name='uint8_t' is-array='true'/>
        <long name='in_buffersize'/>
        <long name='in_buffer_amount_loaded'/>
        <long name='in_buffer_position'/>

        <pointer name='out_buffer' type-name='uint8_t' is-array='true'/>
        <long name='out_buffersize'/>
        <int32_t name='out_buffer_amount_written'/>
    </struct-type>

    <enum-type type-name='interface_breakdown_types' base-type='int8_t'>
        <enum-item name='NONE'/>
        <enum-item name='QUIT'/>
        <enum-item name='STOPSCREEN'/>
        <enum-item name='TOFIRST'/>
    </enum-type>

    <enum-type type-name='interface_push_types'>
        <enum-item name='AS_PARENT'/>
        <enum-item name='AS_CHILD'/>
        <enum-item name='AT_BACK'/>
        <enum-item name='AT_FRONT'/>
    </enum-type>

    <class-type type-name='viewscreen' original-name='viewscreenst' custom-methods='true'>
        <pointer name='child' type-name='viewscreen'/>
        <pointer name='parent' type-name='viewscreen'/>
        <enum base-type='int8_t' name='breakdown_level' type-name='interface_breakdown_types' init-value='NONE'/>
        <int8_t name='option_key_pressed'/>

        <virtual-methods>
            <vmethod name='feed'>
                <pointer name='events'> <stl-set>
                    <enum type-name='interface_key' base-type='long'/>
                </stl-set> </pointer>
            </vmethod>
            <vmethod name='logic'/>
            <vmethod name='render'/>
            <vmethod name='resize'><int32_t name='w'/><int32_t name='h'/></vmethod>
            <vmethod name='set_port_flags'/>
            <vmethod is-destructor='true'/>
        </virtual-methods>

        <custom-methods>
            <cmethod name='feed_key'/>
        </custom-methods>
    </class-type>

    <struct-type type-name='interfacest'>
        <int32_t name='original_fps'/>

        <compound name='view' type-name='viewscreen'/>
        <uint32_t name='flag'/>
        <int32_t name='shutdown_interface_tickcount'/>
        <int32_t name='shutdown_interface_for_ms'/>
    </struct-type>

<!--
    <class-type type-name='layer_object' original-name='layer_objectst'>
        <bool name='enabled'/>
        <bool name='active'/>

        <virtual-methods>
            No destructor anywhere:
            <vmethod ret-type='int32_t' name='getFirstVisible'/>
            <vmethod ret-type='int32_t' name='getLastVisible'/>
            <vmethod ret-type='int32_t' name='getX1'/>
            <vmethod ret-type='int32_t' name='getY1'/>
            <vmethod ret-type='int32_t' name='getX2'/>

            <vmethod ret-type='int32_t' name='getY2'/>
            <vmethod ret-type='int32_t' comment='list 1; button,base -1'/>
            <vmethod ret-type='int32_t' name='getListCursor'/>
            <vmethod name='setListCursor'> <int32_t/> </vmethod>
            <vmethod name='feed'>
                <pointer name='events'> <stl-set>
                    <enum type-name='interface_key' base-type='int32_t'/>
                </stl-set> </pointer>
            </vmethod>

            <vmethod ret-type='bool' name='isSetMouseLRCur'/>
            <vmethod ret-type='bool' name='isSetMouseLCur'/>
            <vmethod ret-type='bool' name='isSetMouseRCur'/>
            <vmethod ret-type='int32_t' name='getMouseLCur'/>
            <vmethod ret-type='int32_t' name='getMouseRCur'/>

            <vmethod name='getMouseLClickPos'> <pointer type-name='int32_t' name='x'/> <pointer type-name='int32_t' name='y'/> </vmethod>
            <vmethod name='getMouseRClickPos'> <pointer type-name='int32_t' name='x'/> <pointer type-name='int32_t' name='y'/> </vmethod>
            <vmethod ret-type='int32_t' name='getListLength'/>
            <vmethod name='setListLength'> <int32_t/> </vmethod>
            <vmethod ret-type='int32_t' name='getMouseX'/>

            <vmethod ret-type='int32_t' name='getMouseY'/>
            <vmethod ret-type='int32_t' name='getMouseXOld'/>
            <vmethod ret-type='int32_t' name='getMouseYOld'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='layer_object_listst' inherits-from='layer_object'>
        <int32_t name='cursor'/>
        <int32_t name='num_entries'/>
        <int32_t name='x1'/>
        <int32_t name='y1'/>
        <int32_t name='page_size'/>
        <int32_t name='x2'/>
        <int32_t name='y2'/>
        <int32_t name='mouse_l_cur'/>
        <int32_t name='mouse_r_cur'/>
        <bool name='rclick_scrolls'/>
        <int32_t name='flag' comment='for standardscrolling'/>
        <enum name='key_lclick' base-type='int32_t' type-name='interface_key'/>
        <enum name='key_rclick' base-type='int32_t' type-name='interface_key'/>
    </class-type>

    <class-type type-name='layer_object_buttonst' inherits-from='layer_object'>
        <int32_t name='x1'/>
        <int32_t name='y1'/>
        <int32_t name='x2'/>
        <int32_t name='y2'/>
        <int32_t name='has_mouse_lclick'/>
        <int32_t name='has_mouse_rclick'/>
        <int32_t name='mouse_lclick_x'/>
        <int32_t name='mouse_lclick_y'/>
        <int32_t name='mouse_rclick_x'/>
        <int32_t name='mouse_rclick_y'/>
        <int32_t name='mouse_x'/>
        <int32_t name='mouse_y'/>
        <int32_t name='mouse_x_old'/>
        <int32_t name='mouse_y_old'/>
        <int8_t name='handle_mouselbtndown'/>
        <int8_t name='handle_mouserbtndown'/>
    </class-type>
-->

    <struct-type type-name='widget_menu'>
        <padding name='lines' size='24' comment='std::map, int to string+T'/>
        <int32_t name='selection'/>
        <int32_t name='last_displayheight'/>
        <bool name='bleached'/>
        <padding name='colors' size='24' comment='std::map, int to int+int'/>
    </struct-type>

    <struct-type type-name='widget_textbox'>
        <stl-string name='text'/>
        <bool name='keep'/>
    </struct-type>

    <class-type type-name='MacroScreenLoad' inherits-from='viewscreen'>
        <compound name='menu' type-name='widget_menu'/>
        <int32_t name='width'/>
        <int32_t name='height'/>
    </class-type>

    <class-type type-name='MacroScreenSave' inherits-from='viewscreen'>
        <compound name='id' type-name='widget_textbox'/>
    </class-type>

    <struct-type type-name='world_dat_summary'>
        <compound type-name='language_name' name='name'/>
        <stl-string name='unk_1'/>
        <static-array name='unk_2' count='15' type-name='int8_t' comment='same as the one at the top of world_data'/>
        <compound name='last_id' comment='when loading, DF sets *_next_id to these fields plus 1'>
            <int32_t name='unit'/>
            <int32_t name='soul'/>
            <int32_t name='ite'/>
            <int32_t name='entity'/>
            <int32_t name='nemesis'/>
            <int32_t name='artifact'/>
            <int32_t name='building'/>
            <int32_t name='machine'/>
            <int32_t name='hist_figure'/>
            <int32_t name='hist_event'/>
            <int32_t name='hist_event_collection'/>
            <int32_t name='unit_chunk'/>
            <int32_t name='art_image_chunk'/>
            <int32_t name='task'/>
            <int32_t name='squad'/>
            <int32_t name='formation'/>
            <int32_t name='activity'/>
            <int32_t name='interaction_instance'/>
            <int32_t name='written_content'/>
            <int32_t name='identity'/>
            <int32_t name='incident'/>
            <int32_t name='crime'/>
            <int32_t name='vehicle'/>
            <int32_t name='army'/>
            <int32_t name='army_controller'/>
            <int32_t name='army_tracking_info'/>
            <int32_t name='cultural_identity'/>
            <int32_t name='agreement'/>
            <int32_t name='poetic_form' since='v0.42.01'/>
            <int32_t name='musical_form' since='v0.42.01'/>
            <int32_t name='dance_form' since='v0.42.01'/>
            <int32_t name='scale' since='v0.42.01'/>
            <int32_t name='rhythm' since='v0.42.01'/>
            <int32_t name='occupation' since='v0.42.01'/>
            <int32_t name='belief_system' since='v0.44.01'/>
            <int32_t name='image_set' since='v0.47.01'/>
            <int32_t name='divination_set' since='v0.47.01'/>
        </compound>
        <compound name='unk'>
            <int32_t/>
            <int32_t/>
            <stl-string name='unk_3'/>
            <stl-string/>
            <stl-string/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <stl-string/>
        </compound>
    </struct-type>

    <class-type type-name='viewscreen_adopt_regionst' inherits-from='viewscreen'>
        <compound type-name='file_compressorst' name='compressor'/>
        <enum base-type='int32_t' name='cur_step'>
            <enum-item name='OpeningFile'/>
            <enum-item name='ProcessingRawData'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='LoadingItems'/>
            <enum-item name='LoadingBuildings'/>
            <enum-item name='LoadingEntities'/>
            <enum-item name='LoadingCoinInformation'/>
            <enum-item name='LoadingMapData'/>
            <enum-item name='LoadingCivilizedPopulations'/>
            <enum-item name='LoadingHistory'/>
            <enum-item name='LoadingParameters'/>
            <enum-item name='LoadingArtifacts'/>
            <enum-item name='LoadingActiveHistoricalFigures'/>
            <enum-item name='LoadingSquads'/>
            <enum-item name='LoadingFormations'/>
            <enum-item name='LoadingActivities'/>
            <enum-item name='LoadingInteractions'/>
            <enum-item name='LoadingWrittenContent'/>
            <enum-item name='LoadingIdentities'/>
            <enum-item name='LoadingIncidents'/>
            <enum-item name='LoadingCrimes'/>
            <enum-item name='LoadingVehicles'/>
            <enum-item name='LoadingArmies'/>
            <enum-item name='LoadingArmyControllers'/>
            <enum-item name='LoadingTrackingInformation'/>
            <enum-item name='LoadingCulturalIdentities'/>
            <enum-item name='LoadingAgreements'/>
            <enum-item name='LoadingArtForms'/>
            <enum-item name='LoadingOccupations'/>
            <enum-item name='LoadingBeliefSystems'/>
            <enum-item name='LoadingImageSets'/>
            <enum-item name='LoadingDivinationSets'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='RebuildingTemporaryInformation'/>
            <enum-item name='PreparingGame'/>
            <enum-item name='Failed'/>
        </enum>
        <enum type-name='save_version' name='save_version'/>
        <compound type-name='world_dat_summary' name='cur_save'/>
        <compound type-name='matgloss_list' name='glosses'/>
        <int32_t name='progress' comment='0..35'/>
    </class-type>

    <enum-type type-name='embark_finder_option'>
        <enum-item name='DimensionX'/>
        <enum-item name='DimensionY'/>
        <enum-item name='Savagery'/>
        <enum-item name='Spirit'/>
        <enum-item name='Elevation'/>
        <enum-item name='Temperature'/>
        <enum-item name='Rain'/>
        <enum-item name='Drainage'/>
        <enum-item name='FluxStone'/>
        <enum-item name='AquiferLight'/>
        <enum-item name='AquiferHeavy'/>
        <enum-item name='River'/>
        <enum-item name='UndergroundRiver'/>
        <enum-item name='UndergroundPool'/>
        <enum-item name='MagmaPool'/>
        <enum-item name='MagmaPipe'/>
        <enum-item name='Chasm'/>
        <enum-item name='BottomlessPit'/>
        <enum-item name='OtherFeatures'/>
        <enum-item name='Soil'/>
        <enum-item name='Clay'/>
        <enum-item name='Sand'/>
    </enum-type>

    <struct-type type-name='embark_location'>
        <compound name='region_pos' type-name='coord2d'/>

        <int16_t name="reclaim_site" ref-target='world_site'/>
        <int16_t name="reclaim_idx"/>

        <compound name='biome_rgn' type-name='coord2d_path'/>
        <compound name='embark_pos_min' type-name='coord2d'/>
        <compound name='embark_pos_max' type-name='coord2d'/>

        <compound name='embark_biome_rgn' type-name='coord2d'
                  comment='Valid only after e pressed.'/>
    </struct-type>

    <class-type type-name='viewscreen_choose_start_sitest' inherits-from='viewscreen'>
        <enum base-type='int32_t' name='page'>
            <enum-item name='Biome'/>
            <enum-item name='Neighbors'/>
            <enum-item name='Civilization'/>
            <enum-item name='Elevation'/>
            <enum-item name='Cliffs'/>
            <enum-item name='Reclaim'/>
            <enum-item name='Reclaim2'/>
            <enum-item name='Find'/>
            <enum-item name='Notes'/>
        </enum>

<!--
        <compound name='location' type-name='embark_location'/>
-->

        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int32_t/>
        <int32_t/>
        <int32_t name='world_width'/>
        <int32_t name='world_height'/>
        <int8_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <static-array type-name='int8_t' count='16'/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <int8_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <int8_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <int8_t/>

        <int32_t name='embark_width'/>
        <int32_t name='embark_height'/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>

        <int32_t name="biome_idx"/>
        <bool name="biome_highlighted"/>

        <bool name='in_embark_light_aquifer'/>
        <bool name='in_embark_heavy_aquifer'/>
        <bool name='in_embark_salt'/>
        <bool name='in_embark_large'/>
        <bool name='in_embark_narrow'/>
        <bool name='in_embark_only_warning'/>
        <bool name='in_embark_civ_dying'/>
        <int32_t/>

        <stl-vector/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
<!--
        <stl-vector name="highlighted_sites" pointer-type='world_site'/>
        <stl-vector name="local_sites" pointer-type='world_site'/>
        <int32_t name="reclaim_idx" refers-to='$global.world.world_data.old_sites[$]'/>

        <int32_t name="civ_idx" refers-to='$$._global.available_civs[$]'/>

        <stl-vector name="available_civs" pointer-type="historical_entity"/>
-->

        <stl-vector name='site_info' pointer-type='stl-string' since='v0.40.01'/>
        <pointer name="site_abandoned" type-name="history_event" has-bad-pointers='true' since='v0.40.01'/>
        <pointer name="site_created" type-name="history_event" has-bad-pointers='true' since='v0.40.01'/>
        <int32_t name="unk_a4" since='v0.40.01'/>
        <int32_t name="unk_a8"/>

        <int32_t/>
        <int32_t/>

        <compound name='finder'>
            <int32_t name="search_x" init-value='-1' comment='to world width / 16'/>
            <int32_t name="search_y" comment='to world height / 16'/>

            <int32_t name="cursor" refers-to='$$._parent.enabled_options[$]'/>

            <static-array type-name='int32_t' name="options"
                          count="22" index-enum='embark_finder_option'/>
            <static-array type-name='bool' name="unmatched"
                          count="22" index-enum='embark_finder_option'/>

<!--
            <stl-vector name="visible_options">
                <enum base-type='int32_t' type-name='embark_finder_option'/>
            </stl-vector>
-->

            <int32_t/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int32_t'/>
            <stl-vector type-name='int16_t'/>
            <stl-vector type-name='int16_t'/>

            <enum name='finder_state' base-type='int16_t'>
                <enum-item name='None' value='-1'/>
                <enum-item name='Searching'/>
                <enum-item name='NoResult'/>
                <enum-item name='Partial'/>
                <enum-item name='Suitable'/>
            </enum>

            <int16_t name="unk_11e"/>
            <int16_t name='unk_120'/>
            <int16_t name='unk_122'/>
            <int16_t name='unk_124'/>
            <int16_t name='unk_126'/>
            <int16_t name='unk_128'/>
        </compound>

        <stl-vector name="notes_order" type-name='int32_t' refers-to='$global.world.world_data.embark_notes[$]'/>
        <stl-vector name="cur_note_name" pointer-type='stl-string'/>
        <int32_t name='unk_14c'/>
        <int32_t name='unk_150'/>
        <int16_t name="unk_154"/>
        <int8_t name="note_tile"/>
        <int16_t name="note_fg_color"/>
        <int16_t name="note_bg_color"/>
        <int32_t name="unk_15c"/>
    </class-type>

    <struct-type type-name='mission'>
        <int32_t name='army_controller' ref-target='army_controller'/>
        <int32_t name='entity' ref-target='historical_entity'/>
        <int32_t name='target_site' ref-target='world_site'/>
        <int32_t name='unk_2'/> -1
        <int32_t name='target_x'/>
        <int32_t name='target_y'/>
        <int32_t name='unk_3'/>
        <int32_t name='unk_4'/>
        <int32_t name='unk_5'/>
        <int32_t name='unk_6'/>
        <int32_t name='unk_7'/>
        <int32_t name='unk_8'/>
        <int32_t name='unk_9'/>
        <int32_t name='unk_10'/>
        <int32_t name='year'/>
        <int32_t name='year_tick'/>
        <int32_t name='unk_12'/> -1
        <int32_t name='army_controller2' ref-target='army_controller'/>
        <int32_t name='histfig' ref-target='historical_figure'/>
        <int32_t name='unk_14'/> -1
        <int32_t name='unk_16'/>
        <int32_t name='unk_17'/>
        <int32_t name='unk_18'/>
        <int32_t name='unk_19'/>
        <int32_t name='unk_20'/>
        <int32_t name='unk_21'/>
        <int32_t name='unk_15'/>
        <int32_t name='unk_22'/>
        <stl-vector name='squads' type-name='int32_t' ref-target='squad'/>
        <stl-vector name='messengers' type-name='int32_t' ref-target='occupation'/>

        <int32_t name='unk_23'/>
        <int32_t name='unk_24'/>

        <compound name='details' is-union='true'>
            <pointer name='raid'>
                <enum name='raid_type' base-type='int32_t'>
                    <enum-item name='Raze' value='0'/>
                    <enum-item name='TakeOver' value='1'/>
                    <enum-item name='Occupy' value='2'/>
                    <enum-item name='DemandTribute' value='3'/>
                    <enum-item name='Raid' value='4'/>
                    <enum-item name='Explore' value='5'/>
                    <enum-item name='Pillage' value='6'/>
                </enum>
                <int32_t name='unk_2'/>

                <int32_t name='unk_5'/>
                <int32_t name='unk_6'/>
                <int32_t name='unk_7'/>
                <int32_t name='unk_8'/>
                <int32_t name='unk_9'/>
                <int32_t name='unk_10'/>
                <int32_t name='unk_11'/>
                <int32_t name='unk_12'/>
                <int32_t name='unk_13'/>
                <int32_t name='unk_14'/>
                <int32_t name='unk_15'/>
                <int32_t name='unk_16'/>
                <int32_t name='unk_17'/>
                <int32_t name='unk_18'/>
                <int32_t name='unk_19'/>
                <int32_t name='unk_20'/>
                <int32_t name='unk_21'/>
                <int32_t name='unk_22'/>
                <int32_t name='unk_23'/>
                <int32_t name='unk_24'/>
                <bitfield base-type='uint32_t' name='raid_flags'>
                    <flag-bit name='Unknown1'/>
                    <flag-bit name='OneTimeTribute'/>
                    <flag-bit name='OngoingTribute'/>
                    <flag-bit name='FreeCaptives'/>
                    <flag-bit name='ReleaseOtherPrisoners'/>
                    <flag-bit name='TakeImportantTreasures'/>
                    <flag-bit name='LootOtherItems'/>
                    <flag-bit name='StealLivestock'/>
                    <flag-bit name='Unknown256'/>
                    <flag-bit name='DemandSurrender'/>
                </bitfield>
                <int32_t name='unk_3'/>
                <int32_t name='unk_4'/>
                <int32_t name='unk_25'/>
                <int32_t name='unk_26'/>
                <int32_t name='unk_27'/>
                <int32_t name='unk_28'/>
                <int32_t name='unk_29'/>
                <int32_t name='unk_30'/>
                <int32_t name='unk_31'/>
            </pointer>
            <pointer name='recovery'>
                <int32_t name='artifact' ref-target='artifact_record'/>
                <int32_t name='unk_2'/>
            </pointer>
            <pointer name='rescue'>
                <int32_t name='histfig' ref-target='historical_figure'/>
                <int32_t name='unk_2'/>
            </pointer>
            <pointer name='request'>
                <stl-vector name='workers' type-name='int32_t' ref-target='historical_figure'/>
                <int32_t name='unk_1'/>
                <int32_t name='unk_2'/>
                <int32_t name='unk_3'/>
                <int32_t name='unk_4'/>
            </pointer>
        </compound>

        <enum name='type' base-type='int32_t'>
            <enum-item name='Raid' value='2'/>
            <enum-item name='RecoverArtifact' value='17'/>
            <enum-item name='RescuePerson' value='18'/>
            <enum-item name='RequestWorkers' value='19'/>
        </enum>
        <int32_t name='unk_25'/>
    </struct-type>

    <class-type type-name='viewscreen_dwarfmodest' inherits-from='viewscreen'>
        <int8_t name='shown_site_name'/> display site name next frame

        <int16_t name='jeweler_mat_count'/> jewelers workshop orders
        <stl-vector type-name='int32_t' name='jeweler_cutgem'  index-refers-to='(material-by-id 0 $)'/> number of free items for job
        <stl-vector type-name='int32_t' name='jeweler_encrust' index-refers-to='(material-by-id 0 $)'/> index list +3 (green/clear/crystal glass)

        <stl-vector name='unit_labors_sidemenu'> For sidemenu unit/prefs/labor
            <enum type-name='unit_labor' base-type='int32_t'/> When negative, labor category
        </stl-vector>
        <stl-vector name='unit_labors_sidemenu_uplevel'>
            <enum type-name='unit_labor' base-type='int32_t'/>
        </stl-vector>
        <int32_t name='unit_labors_sidemenu_uplevel_idx'/>
        <int8_t name='sideSubmenu'/> determine if ESC is Done or Back

        <int8_t name='keyRepeat'/>

        <stl-vector name='trained_animals' pointer-type='unit'/>
        <int32_t name='trained_animal_idx'/>
        <int32_t name='number_assigned_hunt'/> for current unit
        <int32_t name='number_assigned_war'/>
    </class-type>

    <class-type type-name='viewscreen_export_regionst' inherits-from='viewscreen'>
        <enum base-type='int32_t' name='state'>
            <enum-item name='Initializing'/>
            <enum-item name='PreliminaryCleaning'/>
            <enum-item name='OffloadingUnits'/>
            <enum-item name='OffloadingArtImages'/>
            <enum-item name='OffloadingFile'/>
            <enum-item name='CharacterizingRawData'/>
            <enum-item name='SortingWorldInformation'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='SavingItems'/>
            <enum-item name='SavingBuildings'/>
            <enum-item name='SavingEntities'/>
            <enum-item name='SavingCoinInformation'/>
            <enum-item name='SavingMapData'/>
            <enum-item name='SavingCivilizedPopulations'/>
            <enum-item name='SavingHistory'/>
            <enum-item name='SavingParameters'/>
            <enum-item name='SavingArtifacts'/>
            <enum-item name='SavingActiveHistoricalFigures'/>
            <enum-item name='SavingSquads'/>
            <enum-item name='SavingFormations'/>
            <enum-item name='SavingActivities'/>
            <enum-item name='SavingInteractions'/>
            <enum-item name='SavingWrittenContent'/>
            <enum-item name='SavingIdentities'/>
            <enum-item name='SavingIncidents'/>
            <enum-item name='SavingCrimes'/>
            <enum-item name='SavingVehicles'/>
            <enum-item name='SavingArmies'/>
            <enum-item name='SavingArmyControllers'/>
            <enum-item name='SavingTrackingInfo'/>
            <enum-item name='SavingCulturalIdentities'/>
            <enum-item name='SavingAgreements'/>
            <enum-item name='SavingArtForms'/>
            <enum-item name='SavingOccupations'/>
            <enum-item name='SavingBeliefSystems'/>
            <enum-item name='SavingImageSets'/>
            <enum-item name='SavingDivinationSets'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='SynchronizingFolders'/>
        </enum>
        <int32_t name='progress' comment='0..40'/>
        <int32_t/>
        <compound name='units_progress'>
            <stl-vector type-name='int32_t' name='save_file_id'/>
            <stl-vector type-name='int16_t' name='save_file_member_idx'/>
            <stl-vector pointer-type='unit' name='units'/>
            <pointer type-name='unit_chunk' name='current_chunk'/>
            <int32_t name='current_save_file_id'/>
            <int32_t name='offloaded_units'/>
        </compound>
        <compound type-name='file_compressorst' name='compressor'/>
        <stl-string/>
        <stl-string/>
    </class-type>

    <class-type type-name='viewscreen_game_cleanerst' inherits-from='viewscreen'>
        <enum base-type='int32_t' name='state'>
            <enum-item name='CleaningGameObjects'/>
            <enum-item name='CleaningStrandedObjects'/>
            <enum-item name='CleaningPlayObjects'/>
        </enum>
    </class-type>

    <class-type type-name='viewscreen_initial_prepst' inherits-from='viewscreen'>
        <int32_t/>
        <int32_t/>
    </class-type>

    <class-type type-name='world_gen_param_basest'>
        <stl-string name='name'/>
        <virtual-methods>
            <vmethod name='getString'><pointer type-name='stl-string'/></vmethod>
            <vmethod ret-type='bool'/>
            <vmethod ret-type='bool'/>
            <vmethod ret-type='int32_t' name='getMinVal'/>
            <vmethod ret-type='int32_t' name='getMaxVal'/>

            <vmethod name='setFromString'><pointer type-name='stl-string'/></vmethod>
            <vmethod name='setToDefault'/>
            <vmethod name='doIncrement'/>
            <vmethod name='doDecrement'/>
            <vmethod is-destructor='true'/>
        </virtual-methods>
    </class-type>

    <class-type type-name='world_gen_param_seedst' inherits-from='world_gen_param_basest'>
        <pointer name='value' type-name='stl-string'/>
    </class-type>

    <class-type type-name='world_gen_param_valuest' inherits-from='world_gen_param_basest'>
        <stl-string name='label'/>
        <bool name='custom'/>
        <stl-vector pointer-type='stl-string' name='preset_labels'/>
    </class-type>

    <class-type type-name='world_gen_param_charst' inherits-from='world_gen_param_valuest'>
        <pointer type-name='int8_t' name='value'/>
        <int8_t name='min_val'/>
        <int8_t name='max_val'/>
        <int8_t name='initial_val'/>
        <stl-vector type-name='int8_t' name='presets'/>
    </class-type>

    <class-type type-name='world_gen_param_memberst' inherits-from='world_gen_param_valuest'>
        <pointer type-name='int32_t' name='value'/>
        <int32_t name='min_val'/>
        <int32_t name='max_val'/>
        <int32_t name='initial_val'/>
        <stl-vector type-name='int32_t' name='presets'/>
        <int8_t/>
    </class-type>

    <class-type type-name='world_gen_param_flagst' inherits-from='world_gen_param_valuest'>
        <pointer type-name='int8_t' name='value'/>
        <pointer type-name='uint32_t' name='bits'/>
        <int32_t name='mask'/>
        <stl-vector type-name='int8_t' name='presets'/>
    </class-type>

    <class-type type-name='world_gen_param_flagarrayst' inherits-from='world_gen_param_valuest'>
        <pointer name='flagarray'><df-flagarray/></pointer>
        <int32_t name='flagnum'/>
        <stl-vector type-name='int32_t' name='presets'/>
    </class-type>

    <class-type type-name='viewscreen_legendsst' inherits-from='viewscreen'>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <int8_t/>
        <stl-vector/>
        <static-array type-name='int8_t' count='16'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <int64_t/>
        <stl-vector/>
        <int32_t/>
        <int32_t/>
<!--
        <int32_t name='unk_1'/>
        <int32_t name='init_step'/>
        <int32_t name='init_era'/>
        <int32_t name='unk_2'/>
        <int32_t name='unk_3'/>
        <int32_t name='init_progress'/>
        <stl-vector type-name='int32_t' name='histfigs' ref-target='historical_figure'/>
        <stl-vector type-name='int32_t' name='sites' ref-target='world_site'/>
        <stl-vector type-name='int32_t' name='artifacts' ref-target='artifact_record'/>
        <stl-vector type-name='int32_t' name='codices'/>
        <stl-vector type-name='int32_t' name='regions'/>
        <stl-vector type-name='int32_t' name='layers'/>
        <stl-vector type-name='int32_t' name='entities' ref-target='historical_entity'/>
        <stl-vector type-name='int32_t' name='structure_sites' ref-target='world_site'/>
        <stl-vector type-name='int32_t' name='structures_indices'/> index into world_site.buildings
        <stl-vector name='unk_4'/>

        <stl-vector name='header_text' pointer-type='stl-string'/> text at the top above event list

        the following four vectors have the same size and contain info about displayed events
        <stl-vector name='event_collections' type-name='int32_t' ref-target='history_event_collection'/> contains ids for collections, -1 for events
        <stl-bit-vector name='unk_5'/>
        <stl-vector name='events' type-name='int32_t' ref-target='history_event'/> contains ids for events, -1 for collections
        <stl-vector name='events_text' pointer-type='stl-string'/>

        <stl-vector name='stack_collections' type-name='int32_t' ref-target='history_event_collection'/> to navigate back to the previously viewed collection
        <stl-vector name='stack_cursor' type-name='int32_t'/> top line numbers in previous views
        <stl-string name='collection_name'/> current era or collection name
        <enum name='cur_page' base-type='int16_t' comment='invalid pages fail to render properly but do not crash'>
            0
            <enum-item name='Main'/>
            <enum-item name='HistoricalFigures'/>
            <enum-item name='Sites'/>
            <enum-item name='Artifacts'/>
            <enum-item name='Books'/>
            5
            <enum-item name='Regions'/>
            <enum-item name='Civilizations'/>
            <enum-item name='Art'/>
            <enum-item name='Structures'/>
            <enum-item name='Age'/>
            10
            <enum-item name='HistoricalMaps'/>
            <enum-item name='UndergroundRegions'/>
            <enum-item name='Populations'/>
        </enum>
        <int32_t name='unk_6'/>
        <int32_t name='main_cursor'/>
        <stl-vector type-name='int16_t' name='main_row_type'/>
        <stl-vector type-name='int32_t' name='main_row_arg1'/>
        <stl-vector type-name='int32_t' name='main_row_arg2'/>
        <stl-vector type-name='int32_t' name='main_row_arg3'/>
        <int32_t name='sub_cursor'/>
        <int8_t name='important_events_only'/>
        <stl-vector name='unk_7'>
            <pointer>
                <int32_t name='unk_1'/>
                <int32_t name='unk_2'/>
                <pointer name='unk_3'>
                    <pointer name='unk_1'/>
                    <pointer name='unk_2'/>
                    <pointer name='unk_3'/>
                    <pointer name='unk_4'/>
                    <pointer name='unk_5'/>
                </pointer>
                <int16_t name='unk_4'/>
                <int16_t name='unk_5'/>
                <int32_t name='unk_6'/>
                <stl-vector name='unk_7' type-name='int32_t'/>
            </pointer>
        </stl-vector>
        <int16_t name='map_x'/>
        <int16_t name='map_y'/>
        <int16_t name='hide_territories'/>
        <int16_t name='civ_site_mode'/>
        <int16_t name='decade'/>
        <stl-string name='filter_text'/>
        <int8_t name='filter_editing'/>
        <stl-vector name='histfigs_filtered' type-name='int32_t' comment='index into histfigs'/>
        <stl-vector name='sites_filtered' type-name='int32_t' comment='index into sites'/>
        <stl-vector name='artifacts_filtered' type-name='int32_t' comment='index into artifacts'/>
        <stl-vector name='codices_filtered' type-name='int32_t'  comment='index into codices'/>
        <stl-vector name='regions_filtered' type-name='int32_t' comment='index into regions'/>
        <stl-vector name='layers_filtered' type-name='int32_t' comment='index into layers'/>
        <stl-vector name='unk_8' type-name='int32_t'/>
        <stl-vector name='entities_filtered' type-name='int32_t' comment='index into entities'/>
        <stl-vector name='structures_filtered' type-name='int32_t' comment='index into structures'/>
        <int32_t name='total_codices'/>
        <int32_t name='total_artifacts'/>
-->
    </class-type>

    <struct-type type-name='loadgame_save_info'>
        <static-array name='next_ids' type-name='int32_t' count='41' index-enum='next_global_id'/>
        <enum base-type='int16_t' name='game_type' type-name='game_type' comment='only 0 (fort) 1 (adv) 3(reclaim) are valid'/>
        <stl-string name='fort_name'/>
        <stl-string name='world_name'/>
        <int32_t name='year'/>
        <pointer/>
        <stl-string name='folder_name'/>
        <stl-string/>
        <stl-string/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <stl-string/>
    </struct-type>

    <struct-type type-name='matgloss_list'>
        <stl-vector name='unk_0'>
            <pointer>
                <int32_t name='unk_1'/>
                <int32_t name='unk_2'/>
                <int32_t name='unk_3'/>
                <int32_t name='unk_4'/>
                <int32_t name='unk_5'/>
                <int32_t name='unk_6'/>
                <int32_t name='unk_7'/>
                <int32_t name='unk_8'/>
                <int32_t name='unk_9'/>
                <int32_t name='unk_10'/>
                <int32_t name='unk_11'/>
                <int32_t name='unk_12'/>
                <int32_t name='unk_13'/>
                <int32_t name='unk_14'/>
                <int32_t name='unk_15'/>
                <int32_t name='unk_16'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_inorganics'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_plants'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_items'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_creatures'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_entities'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_reactions'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_interactions'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='generated_languages'>
            <pointer>
                <stl-vector pointer-type='stl-string' name='raws'/>
            </pointer>
        </stl-vector>
        <stl-vector name='inorganics' pointer-type='stl-string'/>
        <stl-vector name='plants' pointer-type='stl-string'/>
        <stl-vector name='bodies' pointer-type='stl-string'/>
        <stl-vector name='bodyglosses' pointer-type='stl-string'/>
        <stl-vector name='creatures' pointer-type='stl-string'/>
        <stl-vector name='items' pointer-type='stl-string'/>
        <stl-vector name='buildings' pointer-type='stl-string'/>
        <stl-vector name='entities' pointer-type='stl-string'/>
        <stl-vector name='words' pointer-type='stl-string'/>
        <stl-vector name='symbols' pointer-type='stl-string'/>
        <stl-vector name='translations' pointer-type='stl-string'/>
        <stl-vector name='colors' pointer-type='stl-string'/>
        <stl-vector name='shapes' pointer-type='stl-string'/>
        <stl-vector name='patterns' pointer-type='stl-string'/>
        <stl-vector name='reactions' pointer-type='stl-string'/>
        <stl-vector name='material_templates' pointer-type='stl-string'/>
        <stl-vector name='tissue_templates' pointer-type='stl-string'/>
        <stl-vector name='body_detail_plans' pointer-type='stl-string'/>
        <stl-vector name='creature_variations' pointer-type='stl-string'/>
        <stl-vector name='interactions' pointer-type='stl-string'/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector/>
    </struct-type>

    <class-type type-name='viewscreen_loadgamest' inherits-from='viewscreen'>
        <enum name='cur_step' comment='After the on-screen text shown while loading.'>
            <enum-item name='OpeningFile'/>
            <enum-item name='ProcessingRawData'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='LoadingItems'/>
            <enum-item name='LoadingUnits'/>
            <enum-item name='LoadingJobs'/>
            <enum-item name='LoadingSchedules'/>
            <enum-item name='LoadingProjectiles'/>
            <enum-item name='LoadingBuildings'/>
            <enum-item name='LoadingMachines'/>
            <enum-item name='LoadingFlowGuides'/>
            <enum-item name='LoadingEffects'/>
            <enum-item name='LoadingEntities'/>
            <enum-item name='LoadingLocalAnimalPopulations'/>
            <enum-item name='LoadingEvents'/>
            <enum-item name='LoadingMandates'/>
            <enum-item name='LoadingWorkQuotas'/>
            <enum-item name='LoadingWorldEvents'/>
            <enum-item name='LoadingCoinInformation'/>
            <enum-item name='LoadingSquads'/>
            <enum-item name='LoadingFormations'/>
            <enum-item name='LoadingActivities'/>
            <enum-item name='LoadingInteractions'/>
            <enum-item name='LoadingWrittenContent'/>
            <enum-item name='LoadingIdentities'/>
            <enum-item name='LoadingIncidents'/>
            <enum-item name='LoadingCrimes'/>
            <enum-item name='LoadingVehicles'/>
            <enum-item name='LoadingArmies'/>
            <enum-item name='LoadingArmyControllers'/>
            <enum-item name='LoadingTrackingInformation'/>
            <enum-item name='LoadingCulturalIdentities'/>
            <enum-item name='LoadingAgreements'/>
            <enum-item name='LoadingArtForms'/>
            <enum-item name='LoadingOccupations'/>
            <enum-item name='LoadingBeliefSystems'/>
            <enum-item name='LoadingImageSets'/>
            <enum-item name='LoadingDivinationSets'/>
            <enum-item name='LoadingAnnouncements'/>
            <enum-item name='LoadingFortressInformation'/>
            <enum-item name='LoadingWorldInformation'/>
            <enum-item name='LoadingArtifacts'/>
            <enum-item name='LoadingActiveHistoricalFigures'/>
            <enum-item name='LoadingAdventure'/>
            <enum-item name='LoadingGeneralInformation'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='RebuildingTemporaryInformation'/>
            <enum-item name='RebuildingMoreTemporaryInformation'/>
            <enum-item name='PreparingGameScreen'/>
            <enum-item name='HandlingCompatibilityIssues'/>
            <enum-item name='Finishing'/>
        </enum>
        <int32_t name='progress' since='v0.40.01'/>
        <compound type-name='file_compressorst' name='compressor'/>
        <compound type-name='matgloss_list' name='glosses'/>
        <int8_t name='loading'/>
        <int32_t name='save_version'/>
        <compound name='cur_save' type-name='loadgame_save_info'/>
    </class-type>

    <struct-type type-name='worldgen_parms'>
        <stl-string name='title'/>
        <stl-string name='seed' since='v0.34.01'/>
        <stl-string name='history_seed' since='v0.34.01'/>
        <stl-string name='name_seed' since='v0.34.01'/>
        <stl-string name='creature_seed' since='v0.34.01'/>
        <int32_t name='dim_x'/>
        <int32_t name='dim_y'/>
        <stl-string name='custom_name'/>
        <bool name='has_seed'/>
        <bool name='has_history_seed'/>
        <bool name='has_name_seed'/>
        <bool name='has_creature_seed'/>
        <int32_t name='embark_points'/>
        <int32_t name='peak_number_min'/>
        <int32_t name='partial_ocean_edge_min'/>
        <int32_t name='complete_ocean_edge_min'/>
        <int32_t name='volcano_min'/>
        <static-array name='region_counts' count='3'>
            <static-array type-name='int32_t' count='10' index-enum='worldgen_region_type'/>
        </static-array>
        <static-array type-name='int32_t' name='river_mins' count='2'/>
        <int32_t name='subregion_max'/>
        <int32_t name='cavern_layer_count'/>
        <int32_t name='cavern_layer_openness_min'/>
        <int32_t name='cavern_layer_openness_max'/>
        <int32_t name='cavern_layer_passage_density_min'/>
        <int32_t name='cavern_layer_passage_density_max'/>
        <int32_t name='cavern_layer_water_min'/>
        <int32_t name='cavern_layer_water_max'/>
        <bool name='have_bottom_layer_1'/>
        <bool name='have_bottom_layer_2'/>
        <int32_t name='levels_above_ground'/>
        <int32_t name='levels_above_layer_1'/>
        <int32_t name='levels_above_layer_2'/>
        <int32_t name='levels_above_layer_3'/>
        <int32_t name='levels_above_layer_4'/>
        <int32_t name='levels_above_layer_5'/>
        <int32_t name='levels_at_bottom'/>
        <int32_t name='cave_min_size'/>
        <int32_t name='cave_max_size'/>
        <int32_t name='mountain_cave_min'/>
        <int32_t name='non_mountain_cave_min'/>
        <int32_t name='total_civ_number'/>
        <int32_t name='rain_ranges_1'/>
        <int32_t name='rain_ranges_0'/>
        <int32_t name='rain_ranges_2'/>
        <int32_t name='drainage_ranges_1'/>
        <int32_t name='drainage_ranges_0'/>
        <int32_t name='drainage_ranges_2'/>
        <int32_t name='savagery_ranges_1'/>
        <int32_t name='savagery_ranges_0'/>
        <int32_t name='savagery_ranges_2'/>
        <int32_t name='volcanism_ranges_1'/>
        <int32_t name='volcanism_ranges_0'/>
        <int32_t name='volcanism_ranges_2'/>
        <static-array count='4' name='ranges'>
            <static-array type-name='int32_t' count='24' index-enum='worldgen_range_type'/>
        </static-array>
        <int32_t name='beast_end_year'/>
        <int32_t name='end_year'/>
        <int32_t name='beast_end_year_percent'/>
        <int32_t name='total_civ_population'/>
        <int32_t name='site_cap'/>
        <int32_t name='elevation_ranges_1'/>
        <int32_t name='elevation_ranges_0'/>
        <int32_t name='elevation_ranges_2'/>
        <int32_t name='mineral_scarcity'/>
        <int32_t name='megabeast_cap'/>
        <int32_t name='semimegabeast_cap'/>
        <int32_t name='titan_number'/>
        <static-array type-name='int32_t' name='titan_attack_trigger' count='3'/>
        <int32_t name='demon_number'/>
        <int32_t name='night_troll_number'/>
        <int32_t name='bogeyman_number'/>
        <int32_t name='nightmare_number' since='v0.47.01'/>
        <int32_t name='vampire_number'/>
        <int32_t name='werebeast_number'/>
        <static-array type-name='int32_t' name='werebeast_attack_trigger' count='3' since='v0.47.01'/>
        <int32_t name='secret_number'/>
        <int32_t name='regional_interaction_number'/>
        <int32_t name='disturbance_interaction_number'/>
        <int32_t name='evil_cloud_number'/>
        <int32_t name='evil_rain_number'/>
        <int8_t name='generate_divine_materials' since='v0.40.01'/>
        <int8_t name='allow_divination' since='v0.47.01'/>
        <int8_t name='allow_demonic_experiments' since='v0.47.01'/>
        <int8_t name='allow_necromancer_experiments' since='v0.47.01'/>
        <int8_t name='allow_necromancer_lieutenants' since='v0.47.01'/>
        <int8_t name='allow_necromancer_ghouls' since='v0.47.01'/>
        <int8_t name='allow_necromancer_summons' since='v0.47.01'/>
        <int32_t name='good_sq_counts_0'/>
        <int32_t name='evil_sq_counts_0'/>
        <int32_t name='good_sq_counts_1'/>
        <int32_t name='evil_sq_counts_1'/>
        <int32_t name='good_sq_counts_2'/>
        <int32_t name='evil_sq_counts_2'/>
        <static-array type-name='int32_t' name='elevation_frequency' count='6'/>
        <static-array type-name='int32_t' name='rain_frequency' count='6'/>
        <static-array type-name='int32_t' name='drainage_frequency' count='6'/>
        <static-array type-name='int32_t' name='savagery_frequency' count='6'/>
        <static-array type-name='int32_t' name='temperature_frequency' count='6'/>
        <static-array type-name='int32_t' name='volcanism_frequency' count='6'/>
        <pointer type-name='worldgen_parms_ps' name='ps'/>
        <int32_t name='reveal_all_history'/>
        <int32_t name='cull_historical_figures'/>
        <int32_t name='erosion_cycle_count'/>
        <int32_t name='periodically_erode_extremes'/>
        <int32_t name='orographic_precipitation'/>
        <int32_t name='playable_civilization_required'/>
        <int32_t name='all_caves_visible'/>
        <int32_t name='show_embark_tunnel'/>
        <int32_t name='pole'/>
        <bool name='unk_1'/>
    </struct-type>

    <struct-type type-name='worldgen_parms_ps'>
        <int32_t name='width'/>
        <int32_t name='height'/>
        <static-array count='24' name='data' index-enum='worldgen_range_type'>
            <pointer is-array='true'><pointer is-array='true' type-name='int16_t'/></pointer>
        </static-array>
    </struct-type>

    <class-type type-name='viewscreen_new_regionst' inherits-from='viewscreen'>
        <stl-vector name='worldgen_presets' pointer-type='worldgen_parms'/>

        <int32_t/>
        <int32_t/>
        <int8_t/>
        <int32_t/>

        <bool name='start_in_advanced_mode'/>
        <bool name='in_worldgen'/>
        <int32_t name='cursor_paramset'/>
        <stl-string name='random_seed'/>
        <bool name='editing_randseed'/>
        <bool name='editing_customname'/>
        <bool name='editing_title'/>
        <bool name='popup_deleteset'/>
        <bool name='popup_changedimensions'/>
        <uint16_t name='custom_size_x'/>
        <uint16_t name='custom_size_y'/>

        <int8_t/>
        <int8_t/>
        <int8_t/>
        <int8_t/>
        <int32_t/>
        <stl-string/>
        <stl-vector/>
        <pointer/>
        <int8_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int16_t/>
        <stl-vector pointer-type='stl-string'/>
        <int8_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <pointer/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector/>

        <stl-vector pointer-type='stl-string'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector/>

        <stl-vector pointer-type='stl-string'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector/>

        <stl-vector pointer-type='stl-string'/>
        <stl-string/>
        <int32_t/>
        <int32_t/>
<!--
        <bool name='popup_abort'/>
        <bool name='popup_goon'/>
        <bool name='unsaved_changes'/>
        <bool name='simple_mode' comment='0=advanced params, 1=create new world'/>
        <bool name='unk_20'/>
        <bool name='unk_21'/>

        create new world
        <int32_t name='cursor_line'/>

        <int32_t name='world_size'/>
        <int32_t name='history'/>
        <int32_t name='number_civs'/>
        <int32_t name='number_sites'/>
        <int32_t name='number_beasts'/>
        <int32_t name='savagery'/>
        <int32_t name='mineral_occurence'/>

        <bool name='worldgen_paused'/>
        <bool name='worldgen_rejected'/>
        <stl-vector name='rejection_msg' pointer-type='stl-string' comment='rejection popup'/>
        <stl-vector name='welcome_msg' pointer-type='stl-string' comment='fullscreen popup'/>

        v0.40.01
        <stl-string name="raw_folder"/>
        <bool name="load_world_params"/> if set, the screen will "load the world params" the next tick and unset
        <int32_t name='load_progress' comment='0..20'/>
        <enum base-type='int32_t' name='load_state'>
            <enum-item name='Initializing'/>
            <enum-item name='LoadingObjectFiles'/>
            <enum-item name='FinalizingLanguages'/>
            <enum-item name='FinalizingDescriptors'/>
            <enum-item name='FinalizingMaterialTemplates'/>
            <enum-item name='FinalizingInorganics'/>
            <enum-item name='FinalizingPlants'/>
            <enum-item name='FinalizingTissueTemplates'/>
            <enum-item name='FinalizingItems'/>
            <enum-item name='FinalizingBuildings'/>
            <enum-item name='FinalizingBodyDetailPlans'/>
            <enum-item name='FinalizingCreatureVariations'/>
            <enum-item name='FinalizingCreatures'/>
            <enum-item name='FinalizingEntities'/>
            <enum-item name='FinalizingReactions'/>
            <enum-item name='FinalizingInteractions'/>
            <enum-item name='PreparingMaterialData'/>
            <enum-item name='PreparingTextObjects'/>
            <enum-item name='PreparingGraphics'/>
            <enum-item name='Finalizing'/>
        </enum>
-->
    </class-type>

    <struct-type type-name='nemesis_offload'>
        <stl-vector name='nemesis_save_file_id' type-name='int32_t'/>
        <stl-vector name='nemesis_member_idx' type-name='int16_t'/>
        <stl-vector name='units' pointer-type='unit'/>

        <pointer type-name='unit_chunk' name='cur_unit_chunk'/>
        <int32_t name='cur_unit_chunk_num' init-value='-1'/>
        <int32_t name='units_offloaded' init-value='-1'/>
    </struct-type>

    <class-type type-name='viewscreen_savegamest' inherits-from='viewscreen'>
        <stl-string name='unk_1'/>
        <enum name='cur_step' base-type='int32_t'>
            <enum-item name='Initializing'/>
            <enum-item name='CheckingDirectoryStructure'/>
            <enum-item name='PreliminaryCleaning'/>
            <enum-item name='OffloadingUnits'/>
            <enum-item name='OffloadingArt'/>
            <enum-item name='OpeningFile'/>
            <enum-item name='CharacterizingRawData'/>
            <enum-item name='AllocatingSpace'/>
            <enum-item name='SavingItems'/>
            <enum-item name='SavingUnits'/>
            <enum-item name='SavingJobs'/>
            <enum-item name='SavingSchedules'/>
            <enum-item name='SavingProjectiles'/>
            <enum-item name='SavingBuildings'/>
            <enum-item name='SavingMachines'/>
            <enum-item name='SavingFlowGuides'/>
            <enum-item name='SavingEffects'/>
            <enum-item name='SavingEntities'/>
            <enum-item name='SavingLocalAnimalPopulations'/>
            <enum-item name='SavingEvents'/>
            <enum-item name='SavingMandates'/>
            <enum-item name='SavingWorkQuotas'/>
            <enum-item name='SavingWorldEvents'/>
            <enum-item name='SavingCoinInformation'/>
            <enum-item name='SavingSquads'/>
            <enum-item name='SavingFormations'/>
            <enum-item name='SavingActivities'/>
            <enum-item name='SavingInteractions'/>
            <enum-item name='SavingWrittenContent'/>
            <enum-item name='SavingIdentities'/>
            <enum-item name='SavingIncidents'/>
            <enum-item name='SavingCrimes'/>
            <enum-item name='SavingVehicles'/>
            <enum-item name='SavingArmies'/>
            <enum-item name='SavingArmyControllers'/>
            <enum-item name='SavingTrackingInformation'/>
            <enum-item name='SavingCulturalIdentities'/>
            <enum-item name='SavingAgreement'/>
            <enum-item name='SavingArtForms'/>
            <enum-item name='SavingOccupations'/>
            <enum-item name='SavingBeliefSystems'/>
            <enum-item name='SavingImageSets'/>
            <enum-item name='SavingDivinationSets'/>
            <enum-item name='SavingAnnouncements'/>
            <enum-item name='SavingFortressInformation'/>
            <enum-item name='SavingWorldInformation'/>
            <enum-item name='SavingArtifacts'/>
            <enum-item name='SavingActiveHistoricalFigures'/>
            <enum-item name='SavingAdventureData'/>
            <enum-item name='SavingGeneralInformation'/>
            <enum-item name='ClosingFile'/>
            <enum-item name='Finishing'/>
        </enum>
        <int32_t name='progress' since='v0.40.01'/>
        <compound type-name='nemesis_offload' name='offload'/>
        <compound type-name='file_compressorst' name='compressor'/>
        <stl-string/>
        <stl-string/>
        <stl-string/>
        <int32_t/>
    </class-type>

    <enum-type type-name='adventurer_attribute_level' base-type='int32_t'>
        <enum-item name='VeryLow'/>
        <enum-item name='Low'/>
        <enum-item name='BelowAverage'/>
        <enum-item name='Average'/>
        <enum-item name='AboveAverage'/>
        <enum-item name='High'/>
        <enum-item name='Superior'/>
    </enum-type>

    <struct-type type-name='setup_character_info'>
        <compound type-name='language_name' name='name'/>
        <int16_t name='race' ref-target='creature_raw'/>
        <int16_t name='caste' ref-target='caste_raw' aux-value='$$.race'/>
        <static-array name='skills' count='147' index-enum='job_skill'>
            <enum type-name='skill_rating'/>
        </static-array>
        <int32_t name='entity' ref-target='historical_entity'/>
        <int32_t name='histfig' refers-to='$global.world.nemesis.all[$]'/>
        <int32_t name='unk_284'/>
        <int32_t name='cultural_identity' ref-target='cultural_identity'/>
        <int32_t name='nemesis' ref-target='nemesis_record' comment='not sure why this is only int16'/>
        <int32_t name='unk_290'/>?
        <int32_t name='unk_294'/>?
        <int16_t name='skill_points_remaining'/>

        <static-array count='6' name='physical_levels' index-enum='physical_attribute_type'>
            <enum type-name='adventurer_attribute_level'/>
        </static-array>
        <static-array count='13' name='mental_levels' index-enum='mental_attribute_type'>
            <enum type-name='adventurer_attribute_level'/>
        </static-array>

        <enum base-type='int16_t' name='status'>
            <enum-item name='Peasant'/>
            <enum-item name='Hero'/>
            <enum-item name='Demigod'/>
        </enum>

        <int32_t name='home_site_id' ref-target='world_site' since='v0.47.01'/>
        <int32_t name='unk_1' since='v0.47.01'/>
        <int16_t name='civilian_occupation' since='v0.47.01'/>
        <static-array name='civilian_skill' type-name='int32_t' count='147' index-enum='job_skill' since='v0.47.01'/>

        <int32_t name='deity_id' ref-target='historical_figure'/>

        <!--<int32_t name='commander_id' init-value='-1' since='v0.40.01' refers-to='$(find-entity $(find-instance $world_site $$._parent.site_id).cur_owner_id).positions.assignments[$]' comment='-1 is peasant'/>-->
        <int32_t name='site_id' ref-target='world_site' since='v0.40.01'/>

        <int32_t name='belief_strength' since='v0.40.01'/>
        <pointer name='unk_v47_000' comment='uninitialized'/>
        <int32_t name='unk_v47_001' comment='uninitialized'/>
        <int32_t name='unk_v47_002' comment='uninitialized'/>
        <int32_t name='unk_v47_003'/>
        <int32_t name='unk_v47_004'/>
        <int32_t name='unk_v47_005'/>
        <int32_t name='unk_v47_006'/>
        <int32_t name='unk_v47_007'/>
        <int32_t name='unk_v47_008'/>
        <int32_t name='unk_v47_009'/>
        <int32_t name='unk_v47_010'/>
        <int32_t name='unk_v47_011'/>
        <int32_t name='unk_v47_012'/>
        <int32_t name='unk_v47_013'/>
        <int32_t name='unk_v47_014'/>
        <int32_t name='unk_v47_015'/>
        <int32_t name='unk_v47_016'/>
        <int32_t name='unk_v47_017'/>
        <int32_t name='unk_v47_018'/>
        <int32_t name='unk_v47_019'/>
        <int32_t name='unk_v47_020'/>
        <int32_t name='unk_v47_021'/>
        <int32_t name='unk_v47_022'/>
        <int32_t name='unk_v47_023'/>
        <int32_t name='unk_v47_024'/>
        <int32_t name='unk_v47_025'/>
        <int32_t name='unk_v47_026'/>
        <int32_t name='unk_v47_027'/>
        <int32_t name='unk_v47_028'/>
        <int32_t name='unk_v47_029'/>
        <int32_t name='unk_v47_030'/>
        <int32_t name='unk_v47_031'/>
        <int32_t name='unk_v47_032'/>
        <int32_t name='unk_v47_033'/>
        <int32_t name='unk_v47_034'/>
        <int32_t name='unk_v47_035'/>
        <int32_t name='unk_v47_036'/>
        <int32_t name='unk_v47_037'/>
        <int32_t name='unk_v47_038'/>
        <int32_t name='unk_v47_039'/>
        <int32_t name='unk_v47_040'/>
        <int32_t name='unk_v47_041'/>
        <int32_t name='unk_v47_042'/>
        <int32_t name='unk_v47_043'/>
        <int32_t name='unk_v47_044'/>
        <int32_t name='unk_v47_045' comment='uninitialized'/>
        <pointer name='unk_v47_046'/>
        <pointer name='unk_v47_047'/>
        <pointer name='unk_v47_048'/>
        <pointer name='unk_v47_049'/>
        <pointer name='unk_v47_050'/>
        <pointer name='unk_v47_051'/>
        <int32_t name='unk_v47_052' comment='uninitialized'/>
        <pointer name='unk_v47_053'/>
        <pointer name='unk_v47_054'/>
        <pointer name='unk_v47_055'/>
        <pointer name='unk_v47_056'/>
        <pointer name='unk_v47_057'/>
        <pointer name='unk_v47_058'/>
        <pointer name='unk_v47_059'/>
        <pointer name='unk_v47_060'/>
        <pointer name='unk_v47_061'/>
        <pointer name='unk_v47_062'/>
        <pointer name='unk_v47_063'/>
        <pointer name='unk_v47_064'/>
        <pointer name='unk_v47_065'/>
        <pointer name='unk_v47_066'/>
        <int32_t name='unk_v47_067'/>
        <int32_t name='unk_v47_068'/>
        <int16_t name='unk_v47_069'/>
        <pointer name='unk_v47_070'/>
        <int16_t name='unk_v47_071'/>
        <stl-vector name='unk_v47_072'/>
        <int32_t name='unk_v47_073' comment='uninitialized'/>
        <int32_t name='unk_v47_074' comment='uninitialized'/>
        <int32_t name='unk_v47_075' comment='uninitialized'/>
        <int32_t name='unk_v47_076' comment='uninitialized'/>
        <int32_t name='unk_v47_077' comment='uninitialized'/>
        <int32_t name='unk_v47_078' comment='uninitialized'/>
        <stl-vector name='unk_v47_079'/>
        <stl-vector name='unk_v47_080'/>
        <stl-vector name='unk_v47_081'/>
        <stl-vector name='unk_v47_082'/>
        <int32_t name='unk_v47_083'/>
        <stl-vector name='unk_v47_084'/>
        <static-array name='unk_v47_085' count='50'>
            <int16_t init-value='50'/>
        </static-array>
        <int32_t name='unk_v47_086' init-value='-1'/>
        <int32_t name='unk_v47_087' init-value='-1'/>
        <stl-vector name='unk_v47_088'/>
        <stl-vector name='unk_v47_089'/>
        <int32_t name='unk_v47_090'/>
        <int32_t name='unk_v47_091'/>
        <int32_t name='unk_v47_092'/>
        <int32_t name='unk_v47_093'/>
        <int32_t name='unk_v47_094'/>
        <stl-vector name='unk_v47_095'/>
        <int32_t name='unk_v47_096'/>
        <pointer name='unk_v47_097'/>
        <int32_t name='unk_v47_098' init-value='-1'/>
        <int32_t name='unk_v47_099' init-value='-1'/>
        <pointer name='unk_v47_100'/>
        <int32_t name='unk_v47_101'/>
        <int32_t name='unk_v47_102'/>
        <int32_t name='unk_v47_103'/>
        <int32_t name='unk_v47_104'/>
        <int32_t name='unk_v47_105' comment='uninitialized'/>
        <int32_t name='unk_v47_106' comment='uninitialized'/>
        <bool name='unk_v47_107'/>
        <int32_t name='unk_v47_108'/>
        <enum base-type='int32_t' name='page'>
            <enum-item name='Skills' value='5'/>
            <enum-item name='Appearance'/>
            <enum-item name='Personality'/>
            <enum-item name='Background'/>
            <enum-item name='Equipment'/>
            <enum-item name='MountsAndPets'/>
        </enum>
        <int32_t name='unk_v47_110'/>
        <int32_t name='unk_v47_111'/>
        <int32_t name='unk_v47_112'/>
        <enum base-type='int8_t' name='sel_trait_column'>
            <enum-item name='SkillsColumn'/>
            <enum-item name='AttributesColumn'/>
        </enum>
        <int32_t name='attribute_idx'/>
        <int32_t name='attribute_points_remaining'/>
        <stl-vector name='skill_list'>
            <enum base-type='int16_t' type-name='job_skill'/>
        </stl-vector>
        <int32_t name='unk_8f0'/>
        <int32_t name='unk_8f4'/>
        <bool name='unk_v47_121'/>
        <stl-string name='saved_first_name'/> first name is saved here and restored if editing cancelled
        <stl-vector name='description_lines' pointer-type='stl-string'/>
        <stl-vector name='unk_v47_123' pointer-type='world_site'/>
        <int32_t name='unk_v47_124'/>
        <stl-vector type-name='int32_t' name='unk_v47_125'/>
        <stl-vector name='unk_v47_126'>
            <int32_t init-value='-1'/>
        </stl-vector>
        <stl-vector type-name='int32_t' name='unk_v47_127'/>
        <stl-vector type-name='int32_t' name='unk_v47_128'/>
        <stl-vector type-name='int32_t' name='unk_v47_129'/>
        <stl-vector type-name='int32_t' name='unk_v47_130'/>
        <int32_t name='unk_v47_131'/>
        <int32_t name='unk_v47_132'/>
        <int32_t name='unk_v47_133'/>
        <stl-vector name='home_description_lines' pointer-type='stl-string'/>
        <stl-vector name='unk_v47_135'/>
        <int16_t name='unk_v47_136'/>
        <int32_t name='unk_v47_137' comment='uninitialized'/>
        <stl-vector name='unk_v47_138'/>
        <stl-vector name='unk_v47_139'/>
        <stl-vector name='unk_v47_140'/>
        <padding name='pad_1' size='340'/>
        <int32_t name='equip_points_remaining'/>
        <stl-vector name='unk_v47_142'/>
        <int32_t name='unk_v47_143'/>
        <static-array name='available_embark_items' count='107' index-enum='entity_sell_category'> index-enum is a guess
            <stl-vector>
                <pointer>
                    <enum base-type='int16_t' name='item_type' type-name='item_type'/>
                    <int16_t name='item_subtype'/>
                    <int16_t name='mat_type'/>
                    <int32_t name='mat_index'/>
                    <bool name='unk_1'/>
                </pointer>
            </stl-vector>
        </static-array>
        <stl-vector name='unk_v47_251' type-name='int32_t'/>
        <stl-vector name='unk_v47_252' type-name='int16_t'/>
        <stl-vector name='unk_v47_253' type-name='int16_t'/>
        <int16_t name='unk_v47_254'/>
        <int32_t name='unk_v47_255' comment='uninitialized'/>
        <int32_t name='unk_v47_256' comment='uninitialized'/>
        <stl-vector name='unk_v47_257'/>
        <int32_t name='unk_v47_258'/>
        <int32_t name='unk_v47_259'/>
        <int32_t name='unk_v47_260'/>
        <stl-vector name='unk_v47_261'/>

<!--
        These probably fit in somewhere above
        <bool name='in_edit_first_name'/>
        <stl-string name='saved_first_name'/> first name is saved here and restored if editing cancelled
        <stl-vector name='thoughts_lines_1' pointer-type='stl-string'/>
        <stl-vector name='thoughts_lines_2' pointer-type='stl-string'/>
        <stl-vector name='thoughts_lines_3' pointer-type='stl-string'/>
        <stl-vector name='background_lines' pointer-type='stl-string'/>
        <stl-vector name='sites' pointer-type='world_site'/>
        <stl-vector name='skill_list'>
            <enum base-type='int16_t' type-name='job_skill'/>
        </stl-vector>
        <stl-vector name='equipment' pointer-type='item' since='v0.47.01'/>
        <stl-vector name='background_type'>
            <enum base-type='int32_t'>
                <enum-item name='LocallyImportant'/>
                <enum-item name='Peasant'/>
            </enum>
        </stl-vector>
        <int32_t name='background_idx'/>

        <stl-vector name='allowed_castes' type-name='int32_t' ref-target='caste_raw'/>
        <stl-vector pointer-type='stl-string' since='v0.47.01'/>
        <stl-vector pointer-type='stl-string' since='v0.47.01'/>
-->
    </struct-type>

    <struct-type type-name='embark_item_choice'>
        <static-array name='list' count='107' index-enum='entity_sell_category'>
            <stl-vector>
                <pointer>
                    <enum base-type='int16_t' name='item_type' type-name='item_type'/>
                    <int16_t name='item_subtype' refers-to='(item-subtype-target $$._parent.item_type $)'/>
                    <int16_t name='mattype' ref-target='material' aux-value='$$.matindex'/>
                    <int32_t name='matindex'/>
                    <int8_t name="unk_c" comment='1 if new, -1 if added'/>
                </pointer>
            </stl-vector>
        </static-array>
    </struct-type>

    <struct-type type-name='embark_profile'>
        <stl-string name='name'/>
        <stl-vector name='skill_type' type-name='int16_t'/>
        <stl-vector name='skill_dwarf_idx' type-name='int16_t'/>
        <stl-vector name='skill_level' type-name='int16_t'/>

        <stl-vector name='reclaim_dwarf_idx' type-name='int16_t'/>
        <stl-vector name='reclaim_prof1' type-name='profession'/>
        <stl-vector name='reclaim_prof2' type-name='profession'/>

        <stl-vector name='item_type' type-name='int16_t'/>
        <stl-vector name='item_subtype' type-name='int16_t'/>
        <stl-vector name='mat_type' type-name='int16_t'/>
        <stl-vector name='mat_index' type-name='int32_t'/>
        <stl-vector name='item_count' type-name='int32_t'/>

        <stl-vector name='pet_race' type-name='int32_t' ref-target='creature_raw'/>
        <stl-vector name='pet_caste' type-name='int16_t' ref-target='caste_raw'/>
        <stl-vector name='pet_profession' type-name='profession'/>
        <stl-vector name='pet_count' type-name='int32_t'/>
    </struct-type>

    <struct-type type-name='embark_symbol'>
        <stl-vector name='unk_v43_1'/>
        <stl-vector name='unk_v43_2'/>
        <int32_t name='unk_v43_3'/>
        <compound name='unk_v43_4' type-name='language_name'/>
        <compound name='unk_v43_sub9'>
            <int32_t name='unk_s1'/>
            <int16_t name='unk_s2'/>
            <int32_t name='unk_s3'/>
            <int16_t name='unk_s4'/>
            <int32_t name='unk_s5'/>
            <int32_t name='unk_s6'/>
            <pointer name='unk_s7'/>
        </compound>
        <static-array type-name='int32_t' count='4' comment='uninitialized?' name='unk_v43_10'/>
    </struct-type>

    <class-type type-name='viewscreen_setupdwarfgamest' inherits-from='viewscreen'>
        <static-string size='256' name='title'/>
        <static-string size='256'/>
        <static-string size='256'/>

        <stl-vector name='dwarf_info' pointer-type='setup_character_info'/>
        <static-array count='4' name='embark_skills'><stl-vector type-name='job_skill'/></static-array>
        <stl-vector name='reclaim_professions' type-name='profession'/>

        <int32_t/>
        <int8_t/>
        <compound name='gameplay_settings'>
            <int32_t/>
            <int32_t/>
            <static-array type-name='int32_t' count='5' name='enemy_pop_trigger'/>
            <static-array type-name='int32_t' count='5' name='enemy_prod_trigger'/>
            <static-array type-name='int32_t' count='5' name='enemy_trade_trigger'/>
            <int32_t name='megabeast_interval'/>
            <int32_t name='forgotten_sens'/>
            <int32_t name='forgotten_irritate_min'/>
            <int32_t name='forgotten_wealth_div'/>
            <int32_t name='wild_sens'/>
            <int32_t name='wild_irritate_min'/>
            <int32_t name='wild_irritate_decay'/>
            <int32_t name='werebeast_interval'/>
            <int32_t name='vampire_fraction'/>
            <static-array type-name='int32_t' count='3' name='invasion_cap_regular'/>
            <static-array type-name='int32_t' count='3' name='invasion_cap_monsters'/>
            <int32_t name='min_raids_before_siege'/>
            <int32_t name='min_raids_between_sieges'/>
            <int32_t name='siege_frequency'/>
            <int32_t name='cavern_dweller_scale'/>
            <int32_t name='cavern_sweller_max_attackers'/>
            <int32_t name='tree_fell_count_savage'/>
            <int32_t name='tree_fell_count'/>
            <bitfield name='flags'>
                <flag-bit name='sieges'/>
                <flag-bit name='megabeasts'/>
                <flag-bit name='werebeasts'/>
                <flag-bit name='curiousbeasts'/>
            </bitfield>
            <static-array type-name='int32_t' count='5' name='economy_pop_trigger'/>
            <static-array type-name='int32_t' count='5' name='economy_prod_trigger'/>
            <static-array type-name='int32_t' count='5' name='economy_trade_trigger'/>
            <static-array type-name='int32_t' count='10' name='land_holder_pop_trigger'/>
            <static-array type-name='int32_t' count='10' name='land_holder_prod_trigger'/>
            <static-array type-name='int32_t' count='10' name='land_holder_trade_trigger'/>
            <int32_t name='temple_value'/>
            <int32_t name='temple_complex_value'/>
            <int32_t name='priesthood_unit_count'/>
            <int32_t name='high_priesthood_unit_count'/>
            <int32_t name='guildhall_vaue'/>
            <int32_t name='grand_guildhall_value'/>
            <int32_t name='guild_unit_count'/>
            <int32_t name='grand_guild_unit_count'/>
            <int32_t name='mandate_period'/>
            <int32_t name='demand_period'/>
        </compound>
        <int8_t/>
        <int32_t/>
        <int16_t/>
        <int32_t/>
        <stl-string/>
        <stl-vector name='custom_parms' pointer-type='world_gen_param_basest'/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <pointer/>
        <pointer/>
        <int32_t/>
        <int8_t/>
        <int8_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector type-name='int8_t'/>
        <stl-vector name='choices' pointer-type='embark_profile'/>
        <int32_t/>
        <int8_t/>
        <stl-vector pointer-type='stl-string'/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <int8_t/>
        <stl-string/>
        <int8_t/>
        <static-array count='107'><stl-vector/></static-array>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int16_t'/>
        <static-array count='107'><stl-vector/></static-array>
        <static-array count='107' type-name='int8_t'/>
        <int32_t/>
        <int16_t/>
        <int32_t/>
        <int32_t/>
        <int16_t/>
        <int8_t/>
        <stl-string/>
        <int8_t/>
        <stl-vector type-name='int16_t'/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <compound name='fort_name' type-name='language_name'/>
        <compound name='group_name' type-name='language_name'/>
        <int8_t/>
        <compound type-name='ui_sidebar_menus_1360_1d0' name='unk_1c80'/>
        <int32_t/>
        <int32_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <int16_t/>
        <stl-vector/>
        <int32_t/>
        <int32_t name='points_remaining'/>
        <int16_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>

<!--
        <enum base-type='int32_t' name='mode'>
            <enum-item name='Dwarves'/>
            <enum-item name='Items'/>
        </enum>
        <int32_t name='dwarf_cursor'/>
        <int32_t name='dwarf_page_idx'/>
        <int32_t name='item_cursor'/>
        <int32_t name='skill_cursor' refers-to='$$._parent.embark_skills[$]'/>
        <int32_t name='animal_cursor'/>
        <int32_t name='dwarf_column'/>
        <int32_t name='supply_column'/>
        <int32_t name='display_row'/>
        <int8_t name='show_play_now'/>
        <int8_t name='embark_prompt'/>
        <stl-vector name='choice_types'>
            <enum base-type='int8_t' name='choice_types'>
                <enum-item name='PlayNow'/>
                <enum-item name='Prepare'/>
                <enum-item name='Profile'/>
            </enum>
        </stl-vector>
        <int32_t name='choice'/>
        <stl-string name='profile_name'/>
        <stl-vector name='problems' pointer-type='stl-string'/>
        <int32_t name='unk_1'/>
        <int8_t name='in_problems'/>
        <int8_t name='in_save_profile'/>
        <int8_t name='profile_name_conflict'/>
        <compound name='item_choice' type-name='embark_item_choice'/>
        <compound name='animals'>
            <stl-vector name='race' type-name='int32_t' ref-target='creature_raw'
                        index-refers-to='$$._parent.caste[$].ref-target'/>
            <stl-vector name='caste' type-name='int16_t'
                        ref-target='caste_raw' aux-value='$$._parent.race[$._key]'/>
            <stl-vector name='profession' index-refers-to='$$._parent.caste[$].ref-target'>
                <enum base-type='int16_t' type-name='profession'/>
            </stl-vector>
            <stl-vector name='count' type-name='int16_t'
                        index-refers-to='$$._parent.caste[$].ref-target'/>
        </compound>
        <int8_t name='unk_2'/>

        <compound name='symbol' type-name='embark_symbol'/>
        <compound name='location' type-name='embark_location'/>
        <stl-vector name='units' pointer-type='unit'/>
        <stl-vector name='items' pointer-type='item'/>
        <int32_t name='unk_3'/>

        Set by viewscreen_selectitemst via pointers:
        <enum base-type='int16_t' name='add_item_type' type-name='item_type'/>
        <int16_t name='add_item_subtype' refers-to='(item-subtype-target $$._parent.add_item_type $)'/>
        <int16_t name='add_mattype' ref-target='material' aux-value='$$.add_matindex'/>
        <int32_t name='add_matindex'/>
        <int32_t name='adding_item'/>
-->
    </class-type>

    <class-type type-name='viewscreen_choose_game_typest' inherits-from='viewscreen'>
        <stl-vector type-name="int32_t" name="gametypes"/>
    </class-type>

    <class-type type-name='viewscreen_titlest' inherits-from='viewscreen'>
        <static-string name='str_histories' size='256'/>
        <static-string size='256'/>
        <static-string size='256'/>
        <static-string size='256'/>
        <static-string size='256'/>
        <static-string size='256'/>

        <int8_t/>
        <int8_t/>
        <int8_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector name="menu_line_id">
            <enum base-type="int32_t" name="menu_line_id">
                <enum-item name="Continue"/>
                <enum-item name="Start"/>
                <enum-item name="NewWorld"/>
                <enum-item name="Unk3"/>
                <enum-item name="Unk4"/>
                <enum-item name="Settings"/>
                <enum-item name="AboutDF"/>
                <enum-item name="Quit"/>
            </enum>
        </stl-vector>
        <stl-vector type-name='int32_t'/>
        <stl-vector/>
        <stl-vector/>
        <int32_t/>
        <int8_t/>
        <stl-vector/>
        <stl-vector/>
        <int32_t/>
        <int8_t/>
        <stl-vector/>
        <int32_t/>
        <int8_t/>
        <stl-vector pointer-type='stl-string' name='arena_savegames'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector pointer-type='stl-string'/>
        <stl-string name="str_copyright"/>
        <stl-string name="str_version"/>
        <stl-string/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector/>
        <int32_t/>
        <int8_t/>
        <stl-vector pointer-type='stl-string'/>
        <stl-string/>
        <pointer/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector pointer-type='stl-string'/>
        <stl-string/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <int8_t/>
        <int8_t/>
        <pointer/>
        <pointer/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <int8_t/>

<!--
        <enum base-type='int16_t' name="sel_subpage">
            <enum-item name='None'/>
            <enum-item name='StartSelectWorld'/>
            <enum-item name='StartSelectMode'/> adventurer/fortmode/legends
            <enum-item name='Arena'/>
            <enum-item name='About'/>
        </enum>
        <int32_t name="sel_menu_line"/>
        <int32_t name="sel_submenu_line"/>
        <int8_t name="loading"/>
        <stl-vector name="menu_line_id">
            <enum base-type="int32_t" name="menu_line_id">
                <enum-item name="Continue"/>
                <enum-item name="Start"/>
                <enum-item name="NewWorld"/>
                <enum-item name="AdvancedWorld"/>
                <enum-item name="TestingArena"/>
                <enum-item name="AboutDF"/>
                <enum-item name="Quit"/>
            </enum>
        </stl-vector>
        <stl-vector type-name="int32_t" name="submenu_line_id"/>
        <stl-vector pointer-type="stl-string" name="submenu_line_text"/>
        <stl-vector name="start_savegames">
            <pointer>
                <compound name='world_name' type-name='language_name'/>
                <stl-string name='world_name_str'/>
                <static-array name='unk1' type-name='int8_t' count='15'/>
                <static-array name='next_id' type-name='int32_t' index-enum='next_global_id' count='37'/>
                <stl-string name='save_dir'/>
            </pointer>
        </stl-vector>
        <stl-vector pointer-type="stl-string" name="arena_savegames"/>
        <stl-vector pointer-type='stl-string' name='unk_1' since='v0.47.01'/>
        <stl-vector pointer-type='stl-string' name='unk_2' since='v0.47.01'/>
        <stl-string name="str_slaves"/>
        <stl-string name="str_chapter"/>
        <stl-string name="str_warning"/>
        <stl-string name="str_programmed"/>
        <stl-string name="str_designed"/>
        <stl-string name="str_visit"/>
        <stl-string name="str_site"/>
        v0.40.01
        <stl-string name="arena_raw_folder"/>
        <int32_t name="unk_388" comment='unset until loading arena'/>
        <int8_t name="unk_38c"/>
        <int32_t name="unk_390" comment='unset until loading arena'/>
        <int8_t name="unk_394"/>
        <int32_t name="unk_398" comment='unset'/>
        <int8_t name="unk_39c"/>
        <int32_t name="unk_3a0" comment='unset'/>
-->
    </class-type>

    <class-type type-name='viewscreen_update_regionst' inherits-from='viewscreen'>
        <int32_t name='year'/>
        <int32_t name='year_tick'/>
    </class-type>

    <class-type type-name='viewscreen_worldst' inherits-from='viewscreen'>
        <int32_t name='width'/>
        <int32_t name='height'/>
        <int8_t/>
        <int32_t name='width2'/>
        <int32_t name='height2'/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <pointer/>
        <pointer/>
        <int32_t/>
        <int32_t/>
        <pointer/>
        <stl-vector/>
        <stl-vector/>
        <int8_t/>
        <stl-vector/>
        <stl-vector/>
        <pointer/>
        <stl-vector/>
        <stl-vector type-name='int32_t'/>
        <stl-vector/>
        <stl-vector type-name='int8_t'/>
        <int32_t/>
        <int8_t/>
        <stl-vector/>
        <pointer/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <stl-vector/>
        <stl-vector type-name='int32_t'/>
        <stl-vector/>
        <stl-vector/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector/>
        <int32_t/>
        <int8_t/>
        <stl-vector/>
        <compound name='sub1'>
            <pointer/>
            <int32_t/>
            <int32_t/>
            <pointer/>
            <pointer/>
            <int32_t/>
            <int32_t/>
            <pointer/>
            <static-array type-name='int8_t' count='200'/>
            <int32_t/>
            <static-array type-name='int8_t' count='8'/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <int32_t/>
            <static-array type-name='int8_t' count='92'/>
            <pointer/>
            <pointer/>
            <int32_t/>
        </compound>
        <compound name='sub2'>
            <static-array count='1000'><int32_t name='a'/><int32_t name='b'/></static-array>
            <static-array count='1000'><int32_t name='a'/><int32_t name='b'/></static-array>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <int32_t/>
            <static-array count='1000'><int32_t name='a'/><int32_t name='b'/></static-array>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <static-array type-name='int8_t' count='1000'/>
            <int32_t/>
        </compound>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <stl-vector pointer-type='stl-string'/>
        <int32_t/>
        <int8_t/>
        <stl-vector type-name='int32_t'/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <int8_t/>
        <pointer/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <stl-vector pointer-type='stl-string'/>
        <stl-vector type-name='int32_t'/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <int32_t/>
        <int32_t/>
        <int32_t/>
        <int8_t/>
        <pointer/>
        <int32_t/>
        <int8_t/>
        <stl-vector/>
        <int32_t/>
        <int8_t/>
        <pointer/>
        <stl-vector/>
        <stl-vector/>
        <int32_t/>
        <int8_t/>
        <pointer/>
        <stl-vector pointer-type='stl-string'/>
        <pointer/>?
        <pointer/>?
        <pointer/>?
    </class-type>
</data-definition>

<!--
Local Variables:
indent-tabs-mode: nil
nxml-child-indent: 4
End:
-->
